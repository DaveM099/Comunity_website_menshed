(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{1317:function(t,e,s){},1502:function(t,e,s){"use strict";s(1317)},1611:function(t,e,s){"use strict";s.r(e);var i=s(1011),a=s.n(i),c=s(6),r=s(34),l={name:"EstimateDelivery",props:{items:{type:Array,default:()=>[]},product:{type:Object,required:!0}},data(){const t=Object(c.b)();return{country:t.tax.defaultCountry,website_id:t.websiteId,timer:""}},computed:{...Object(r.c)({localisePrice:"ayko_localisation/localisePrice"}),storeView:()=>Object(c.b)(),productWeight(){return void 0===this.product.weight?0:parseFloat(this.product.weight)},productPackageId(){return void 0!==this.product.package_id&&parseInt(this.product.package_id)},estimate_deliveries(){const t=this.$store.state.estimate_delivery.items.find(t=>t.cacheKey===this.cacheKey&&t.items&&t.items.length);return!(!t||!t.items)&&t.items},cacheKey(){return this.productPackageId+"_"+this.productWeight+"_"+this.country+"_"+this.website_id}},methods:{async refreshList(){await this.$store.dispatch("estimate_delivery/list",{package_id:this.productPackageId,weight:this.productWeight,country_id:this.country,website_id:this.website_id})},cancelAutoUpdate(){clearInterval(this.timer)}},mounted(){this.country=this.$store.getters["ayko_localisation/getCountry"],this.refreshList()},destroyed(){this.refreshList(),this.cancelAutoUpdate()},beforeMount(){this.refreshList()},beforeDestroy(){clearInterval(this.timer)},components:{Collapse:a.a}},o=(s(1502),s(19)),d=Object(o.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"product-estimates"}},[s("div",{staticClass:"product-estimate-status mb45 desktop-view"},[s("div",{staticClass:"title"},[s("h2",{staticClass:"cl-accent uppercase heading1"},[t._v("\n        "+t._s(t.$t("Estimated delivery"))+"\n      ")])]),t._v(" "),s("div",{staticClass:"content"},[t.estimate_deliveries&&0!==t.estimate_deliveries.length?t._e():s("div",{staticClass:"mt10 h5"},[t._v("\n        "+t._s(t.$t("No delivery estimates available. Please contact customer services."))+"\n      ")]),t._v(" "),s("ul",{staticClass:"p0"},t._l(t.estimate_deliveries,(function(e,i){return s("li",{key:i,staticClass:"w-100",attrs:{"method-code":e.method_code}},[s("span",{staticClass:"text"},[t._v(t._s(e.method_title))]),s("span",{staticClass:"price"},[t._v(t._s(t.localisePrice(e.price,t.storeView)))])])})),0)])]),t._v(" "),s("div",{staticClass:"product-estimate-status mb30 mobile-view"},[s("collapse",{attrs:{selected:!1}},[s("div",{attrs:{slot:"collapse-header"},slot:"collapse-header"},[s("div",{staticClass:"title"},[s("h3",{staticClass:"cl-accent uppercase heading1"},[t._v("\n            "+t._s(t.$t("Estimated delivery"))+"\n          ")])]),t._v(" "),s("i",{staticClass:"material-icons"},[t._v("play_arrow")])]),t._v(" "),s("div",{attrs:{slot:"collapse-body"},slot:"collapse-body"},[s("div",{staticClass:"content"},[t.estimate_deliveries&&0!==t.estimate_deliveries.length?t._e():s("div",{staticClass:"mt10 h5"},[t._v("\n            "+t._s(t.$t("No delivery estimates available. Please contact customer services."))+"\n          ")]),t._v(" "),s("ul",{staticClass:"p0"},t._l(t.estimate_deliveries,(function(e,i){return s("li",{key:i,staticClass:"w-100",attrs:{"method-code":e.method_code}},[s("span",{staticClass:"text"},[t._v(t._s(e.method_title))]),s("span",{staticClass:"price"},[t._v(t._s(t.localisePrice(e.price,t.storeView)))])])})),0)])])])],1)])}),[],!1,null,"ab9f6d18",null);e.default=d.exports}}]);