(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1037:function(t,e,r){"use strict";(function(t){var a=r(3),i=r(1049),s=r(1045);e.a={name:"CmsBlock",directives:{interpolation:i.a,injectPrice:s.a},props:{id:{type:Number,default:null,required:!1},identifier:{type:String,default:null,required:!1},sync:{type:Boolean,default:!1,required:!1},styleContent:{type:Boolean,default:!1,required:!1}},serverPrefetch(){return this.fetchCmsBlock()},created(){a.g||this.fetchCmsBlock()},methods:{sanitize:t=>(t.match(/<script.*>/)&&(t=(t=t.replace("<script","\x3c!-- <script")).replace("<\/script>","<\/script> --\x3e"),console.info("Your CMS block has been sanitized client side")),t),fetchCmsBlock(){let t="",e="";if(this.id?(t="id",e=this.id):this.identifier&&(t="identifier",e=this.identifier),t&&e){const r=this.$store.dispatch("cmsBlock/single",{key:t,value:e,skipCache:!1}).then(t=>{t&&(r.content=this.sanitize(t.content))}).catch(t=>{console.error(t)});return r}}},computed:{noCmsBlockError(){return"prod"!==t.env.VS_ENV?"Can not load CMS Block "+(this.id||this.identifier):""},getCmsData(){return this.id?this.$store.getters["cmsBlock/getCmsBlockById"](this.id):this.identifier?this.$store.getters["cmsBlock/getCmsBlockByIdentifier"](this.identifier):null}}}}).call(this,r(60))},1038:function(t,e,r){"use strict";var a={name:"ButtonFull",directives:{focusClean:r(357).a},props:{type:{type:String,required:!1,default:"button"},link:{type:Object,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1}},computed:{compontentType(){return this.link?"router-link":"button"},redirectionLink(){return this.link?this.localizedRoute(this.link):null}}},i=(r(1051),r(1052),r(19)),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.compontentType,{tag:"component",staticClass:"action",class:{"no-underline pointer align-center border-box":t.link,disabled:t.disabled,"button-disabled":t.disabled},attrs:{type:!t.link&&t.type,to:t.redirectionLink,"data-testid":"subscribeSubmit",disabled:t.disabled}},[t._t("default",[t._v("\n    Button\n  ")])],2)}),[],!1,null,"47c787b2",null);e.a=s.exports},1039:function(t,e,r){"use strict";var a=r(1037).a,i=r(19),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.getCmsData&&t.getCmsData.content?r("div",{directives:[{name:"interpolation",rawName:"v-interpolation"},{name:"inject-price",rawName:"v-inject-price"}],class:["cms-content",{container:t.sync},{"cms-content-styled":t.styleContent}],domProps:{innerHTML:t._s(t.sanitize(t.getCmsData.content))}}):r("div",{class:["cms-content","hidden",{container:t.sync},{"cms-content-styled":t.styleContent}]},[t._v("\n    "+t._s(t.noCmsBlockError)+"\n  ")])])}),[],!1,null,null,null);e.a=s.exports},1041:function(t,e,r){},1042:function(t,e,r){},1045:function(t,e,r){"use strict";var a=r(10),i=r(6),s=r(13),n=r(34),o={props:{product:{type:Object,required:!0}},computed:{...Object(n.c)({localisePrice:"ayko_localisation/localisePrice"}),storeView:()=>Object(i.b)(),label:()=>s.a.t("From: ")}},c=r(19),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.product&&t.product.final_price_incl_tax?r("div",{staticClass:"product__price"},[t._v("\n  "+t._s(t.label)+"\n  "),r("span",[r("span",{staticClass:"price notranslate"},[t._v(t._s(t.localisePrice(t.product.final_price_incl_tax,t.storeView)))])])]):t._e()}),[],!1,null,null,null).exports,d=r(2);e.a=a.default.directive("injectPrice",{async bind(t,e,r){t.querySelectorAll(".product__price").forEach(async t=>{if(t&&t.getAttribute("data-sku"))try{const e=await r.context.$store.dispatch("product/single",{options:{sku:t.getAttribute("data-sku"),childSku:null},setCurrentProduct:!1,skipCache:!0},{root:!0}),i=new(a.default.extend(l))({store:r.context.$store,propsData:{product:e}});i.$mount(),t.replaceWith(i.$el)}catch(e){d.a.warn(e)(),t.remove()}else t&&t.remove()})}})},1049:function(t,e,r){"use strict";var a=r(10),i=r(6),s=r(40);e.a=a.default.directive("interpolation",{bind(t,e,r){const n=t=>{if("a"!==t.target.nodeName.toLowerCase())return;const e=Object(s.d)(t.currentTarget.getAttribute("href"));if(e&&"/"===e[0]){t.preventDefault();const a=e.endsWith("/")?e.slice(0,-1):e,s=r.context.$router.match(e);s&&"page-not-found"!==s.name?r.context.$router.push(s):r.context.$router.push(Object(i.e)({path:e,name:"urldispatcher-"+a,pathToRegexpOptions:{strict:!0}}),t=>null,t=>null)}};let o=t.getElementsByTagName("a");const c=t=>{for(let e=0;e<t.length;e++){const r=t[e].getAttribute("target");r&&"_blank"===r&&t[e].setAttribute("rel","noopener"),t[e].addEventListener("click",n,!1)}},l=t=>{for(let e=0;e<t.length;e++)t[e].removeEventListener("click",n,!1);t=[]};c(o),t.$componentUpdated=()=>{l(o),a.default.nextTick(()=>c(o))},t.$destroy=()=>t.removeEventListener("click",l(o))},componentUpdated:t=>t.$componentUpdated(),unbind:t=>t.$destroy()})},1051:function(t,e,r){"use strict";r(1041)},1052:function(t,e,r){"use strict";r(1042)},1058:function(t,e,r){"use strict";e.a={addCanonical:(t,e)=>(t.original_color_variant_slug?e.link.push({rel:"canonical",href:t.original_color_variant_slug}):t.canonical_url?e.link.push({rel:"canonical",href:t.canonical_url}):t.url_path&&e.link.push({rel:"canonical",href:"/"+t.url_path+"/"}),e)}},1059:function(t,e,r){"use strict";r(194);e.a={addHreflangs(t,e){if(t.href_langs)for(const r of t.href_langs)e.link.push({rel:"alternate",hreflang:r.locale,href:r.url});return e}}},1068:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var a=r(35),i=r(1077),s={computed:{getAvailableFilters:function(){return Object(i.a)(this.product)},getSelectedFilters:function(){return Object(i.b)(this.product,this.configuration)}},methods:{isOptionAvailable:function(t){var e=Object.assign({},this.configuration);return e[t.type]=t,Object(a.f)(this.$store,{product:this.product,configuration:e})}}}},1073:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var a=r(45),i=Object(a.a)(),s=(i.hook,i.executor),n=Object(a.a)(),o=(n.hook,{categoryPageVisited:s,productPageVisited:n.executor})},1077:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return i}));var a=function(t){var e={};return t&&t.configurable_options&&t.configurable_options.forEach((function(t){var r=t.attribute_code;if(t.values){var a=t.values.map((function(t){return{id:t.value_index,label:t.label,type:r}}));e[r]=a}})),e},i=function(t,e){if(!e)return null;var r={};return e&&t&&Object.keys(e).map((function(t){var a=e[t];r[t]={id:a.id,label:a.label,type:t}})),r}},1095:function(t,e,r){},1096:function(t,e,r){},1098:function(t,e,r){"use strict";var a=r(34),i=r(3);e.a={computed:{...Object(a.c)("epos",["isKiosk"])},methods:{setIdleTimer(){if(i.g)return;let t;const e=async()=>{i.g||(await this.$store.dispatch("build/clearBuilder"),window.location.href="/bikes")};function r(){clearTimeout(t),t=setTimeout(e,18e4)}window.onmousemove=r,window.onmousedown=r,window.onscroll=r,window.onkeypress=r}}}},1099:function(t,e,r){},1108:function(t,e,r){"use strict";var a={mixins:[r(359).a],methods:{colorFrom(t){let e=this.getHex(t)?this.getHex(t):t.label;return e?(e.indexOf("/")>=0&&(e=e.replace("/",",")),e&&e.toString().indexOf(",")>=0?"background: linear-gradient("+e+")":"background-color: "+e):""},getHex(t){let e=this.$store.state.attribute.list_by_code[t.type];if(e){let r=e.options.find(e=>e.value===t.id);if(r)return r.hex}return!1}}},i=(r(1140),r(19)),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{class:["mr10 mb5 bg-cl-transparent brdr-1 brdr-circle brdr-cl-transparent :brdr-cl-bg-primary relative inline-flex pointer color",t.isActive?"active":""],attrs:{"aria-label":t.$t("Select color {label}",{label:t.variant.label})},on:{click:function(e){return t.$emit("change",t.variant)}}},[r("span",{staticClass:"absolute brdr-circle brdr-1 brdr-cl-secondary block color-inside",style:t.colorFrom(t.variant)})])}),[],!1,null,"c5f5265e",null);e.a=s.exports},1123:function(t,e,r){"use strict";var a=r(0),i=r(1),s=r(34),n={mixins:[{name:"SortBy",methods:{changeOrder(){this.sort()}},computed:{sortByAttribute:()=>i.products.sortByAttributes},mixins:[{name:"SortBy",data:function(){return{sortby:""}},mounted:function(){var t=this.getCurrentCategoryProductQuery&&this.getCurrentCategoryProductQuery.sort?this.getCurrentCategoryProductQuery.sort:null;t&&(Object.values(this.sortingOptions).includes(t)&&(this.sortby=t))},methods:{sort:function(){this.$emit("change",this.sortby)}},computed:a.a({},Object(s.c)("category",["getCurrentCategoryProductQuery"]),{sortingOptions:function(){return i.products.sortByAttributes},sortingVariants:function(){var t=this,e=[];return Object.keys(this.sortingOptions).map((function(r){e.push({label:r,id:t.sortingOptions[r],type:"sort"})})),e}})}]}],props:{hasLabel:{type:Boolean,required:!1,default:!1},value:{type:String,default:""}},data:()=>({sortby:null}),watch:{value:{handler(){const t=this.value&&this.value.length?this.value:i.products.defaultSortBy.attribute;this.sortby=this.sortingVariants.find(e=>e.id.includes(t))},immediate:!0}}},o=(r(1406),r(19)),c=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sort-by"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.sortby,expression:"sortby"}],staticClass:"px15",attrs:{name:"sortby"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.sortby=e.target.multiple?r:r[0]},t.changeOrder]}},[t.hasLabel?t._e():r("option",{attrs:{selected:"selected",disabled:"",value:""}},[t._v("\n      "+t._s(t.$t("Sort By"))+"\n    ")]),t._v(" "),t._l(t.sortingVariants,(function(e){return r("option",{key:e.id,domProps:{value:e}},[t._v("\n      "+t._s(t.$t(e.label))+"\n    ")])}))],2)])}),[],!1,null,"840b6cf4",null);e.a=c.exports},1125:function(t,e,r){"use strict";var a={mixins:[r(359).a]},i=(r(1144),r(19)),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"size-selector size",class:{active:t.isActive},attrs:{"aria-label":t.$t("Select size {variant}",{variant:t.variant.label})},on:{click:function(e){return t.$emit("change",t.variant)}}},[t._v("\n  "+t._s(t.variant.label)+"\n")])}),[],!1,null,"64349a12",null);e.a=s.exports},1140:function(t,e,r){"use strict";r(1095)},1141:function(t,e,r){"use strict";r(1096)},1144:function(t,e,r){"use strict";r(1099)},1163:function(t,e,r){"use strict";var a={mixins:[r(359).a]},i=(r(1141),r(19)),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{on:{click:function(e){return t.$emit("change",t.variant)}}},[r("button",{staticClass:"relative brdr-cl-bg-tertiary brdr-1 bg-cl-transparent mr10 pointer generic-selector",class:{active:t.isActive},attrs:{"aria-label":t.$t("Select {label}",{label:t.variant.label})}},[r("span",[t._v(t._s(t.variant.label))])])])}),[],!1,null,"2a71ee0e",null);e.a=s.exports},1222:function(t,e,r){},1223:function(t,e,r){},1224:function(t,e,r){},1225:function(t,e,r){},1226:function(t,e,r){},1227:function(t,e,r){},1228:function(t,e,r){},1229:function(t,e,r){},1230:function(t,e,r){},1231:function(t,e,r){},1232:function(t,e,r){},1233:function(t,e,r){},1234:function(t,e,r){},1235:function(t,e,r){},1236:function(t,e,r){},1237:function(t,e,r){},1238:function(t,e,r){},1239:function(t,e,r){},1240:function(t,e,r){},1241:function(t,e,r){},1242:function(t,e,r){},1243:function(t,e,r){},1346:function(t,e,r){"use strict";var a={mixins:[r(359).a]},i=(r(1402),r(19)),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{on:{click:function(e){return t.$emit("change",t.variant)}}},[r("button",{staticClass:"relative brdr-cl-bg-tertiary brdr-1 bg-cl-transparent mr10 pointer price-selector",class:{active:t.isActive},attrs:{"aria-label":t.$t("Price {variant}",{variant:t.variant.label})}},[r("span",{staticClass:"bg-cl-transparent absolute block square"})]),t._v(" "),r("span",[t._v(t._s(t.variant.label))])])}),[],!1,null,"4cccc36a",null);e.a=s.exports},1402:function(t,e,r){"use strict";r(1222)},1403:function(t,e,r){"use strict";r(1223)},1404:function(t,e,r){"use strict";r(1224)},1405:function(t,e,r){"use strict";r(1225)},1406:function(t,e,r){"use strict";r(1226)},1407:function(t,e,r){"use strict";r(1227)},1408:function(t,e,r){"use strict";r(1228)},1409:function(t,e,r){"use strict";r(1229)},1410:function(t,e,r){"use strict";r(1230)},1411:function(t,e,r){"use strict";r(1231)},1412:function(t,e,r){"use strict";r(1232)},1413:function(t,e,r){"use strict";r(1233)},1414:function(t,e,r){"use strict";r(1234)},1415:function(t,e,r){"use strict";r(1235)},1416:function(t,e,r){t.exports=r.p+"image.jpg?37dbac3dc0995549b353b0d9b194005d"},1417:function(t,e,r){"use strict";r(1236)},1418:function(t,e,r){"use strict";r(1237)},1419:function(t,e,r){"use strict";r(1238)},1420:function(t,e,r){"use strict";r(1239)},1421:function(t,e,r){"use strict";r(1240)},1422:function(t,e,r){"use strict";r(1241)},1423:function(t,e,r){"use strict";r(1242)},1424:function(t,e,r){"use strict";r(1243)},1565:function(t,e,r){"use strict";r.r(e);r(194);var a=r(1010),i=r(1108),s=r(1125),n=r(1346),o=r(359),c={mixins:[o.a]},l=(r(1403),r(19)),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{on:{click:function(e){return t.$emit("change",t.variant)}}},[r("button",{staticClass:"relative brdr-cl-bg-tertiary brdr-1 bg-cl-transparent mr10 pointer brand-selector",class:{active:t.isActive},attrs:{"aria-label":t.$t("Select {variant}",{variant:t.variant.label})}}),t._v(" "),r("span",[t._v(t._s(t.variant.label))])])}),[],!1,null,"46c3dcb2",null).exports,u={mixins:[o.a]},g=(r(1404),Object(l.a)(u,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{on:{click:function(e){return t.$emit("change",t.variant)}}},[r("button",{staticClass:"relative brdr-cl-bg-tertiary brdr-1 bg-cl-transparent mr10 pointer category-selector",class:{active:t.isActive},attrs:{"aria-label":t.$t("Category {variant}",{variant:t.variant.label})}},[r("span",{staticClass:"bg-cl-transparent absolute block square"})]),t._v(" "),r("span",[t._v(t._s(t.variant.label))])])}),[],!1,null,"a3bc2b7e",null).exports),p=r(1014),h=r(34),b={components:{ColorSelector:i.a,SizeSelector:s.a,PriceSelector:n.a,BrandSelector:d,CategorySelector:g},data:()=>({selectab:"grid"}),props:{filters:{type:Object,required:!0}},computed:{...Object(h.c)({getCurrentCategory:"category-next/getCurrentCategory"}),hasActiveFilters(){return this.$store.getters["category-next/hasActiveFilters"]},getCurrentFilters(){return this.$store.getters["category-next/getCurrentFilters"]},availableFilters(){return Object(p.a)(this.filters,(t,e)=>t.length&&!this.$store.getters["category-next/getSystemFilterNames"].includes(e))}},methods:{resetAllFilters(){this.$store.dispatch("category-next/resetSearchFilters")},sortById:t=>[...t].sort((t,e)=>t.id-e.id),getCategoryFilters(t){return t.filter(t=>t.label&&t.label!==t.id&&parseInt(t.id)!==(!!this.getCurrentCategory&&parseInt(this.getCurrentCategory.id)))},mode(t){this.selectab=t,document.querySelector("[data-view-as]").classList.replace("grid"===t?"listView":"gridView","grid"===t?"gridView":"listView");let e=document.querySelector(".toolbar-container .sorting .columns select");e&&(e.value="grid"===t?4:2)}},mounted(){}},v=(r(1405),Object(l.a)(b,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sidebar"},[r("h4",{staticClass:"sidebar__header relative m0 flex"},[r("span",[t._v(" "+t._s(t.$t("Filter"))+" ")]),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.hasActiveFilters,expression:"hasActiveFilters"}],staticClass:"weight-400 sidebar__header__clear pointer sans-serif flex lh25",on:{click:t.resetAllFilters}},[r("i",{staticClass:"material-icons cl-accent mr5"},[t._v("\n        cancel\n      ")]),t._v("\n      "+t._s(t.$t("Clear filters"))+"\n    ")])]),t._v(" "),t._l(t.availableFilters,(function(e,a){return r("div",{key:a},["manufacturer"===a?r("h5",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Brand"))+"\n    ")]):"category_ids"===a?r("h5",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Categories"))+"\n    ")]):"bike_collection"===a?r("h5",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Bike Type"))+"\n    ")]):"price"===a?r("h5",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Price"))+"\n    ")]):"bike_frame_colour"===a?r("h5",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Color"))+"\n    ")]):"size"===a?r("h5",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Size"))+"\n    ")]):"riding_position"===a?r("h5",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Ride Style"))+"\n    ")]):t._e(),t._v(" "),"manufacturer"===a?r("div",{staticClass:"content brand"},t._l(e,(function(e,i){return r("brand-selector",{key:i,staticClass:"brand-select mb10 block",attrs:{context:"category",code:a,variant:e,"selected-filters":t.getCurrentFilters},on:{change:function(e){return t.$emit("changeFilter",e)}}})})),1):"bike_frame_colour"===a?r("div",{staticClass:"content color"},t._l(e,(function(e,a){return r("color-selector",{key:a,attrs:{context:"category",code:"color",variant:e,"selected-filters":t.getCurrentFilters},on:{change:function(e){return t.$emit("changeFilter",e)}}})})),1):"size"===a?r("div",{staticClass:"content size"},t._l(t.sortById(e),(function(e,a){return r("size-selector",{key:a,attrs:{context:"category",code:"size",variant:e,"selected-filters":t.getCurrentFilters},on:{change:function(e){return t.$emit("changeFilter",e)}}})})),1):"price"===a?r("div",{staticClass:"content price"},t._l(e,(function(e,a){return r("price-selector",{key:a,staticClass:"price-select mb10 block",attrs:{context:"category",code:"price",id:e.id,from:e.from,to:e.to,content:e.label,variant:e,"selected-filters":t.getCurrentFilters},on:{change:function(e){return t.$emit("changeFilter",e)}}})})),1):"category_ids"===a?r("div",{staticClass:"content price"},t._l(t.getCategoryFilters(e),(function(e,a){return r("category-selector",{key:a,staticClass:"price-select mb10 block",attrs:{context:"category",code:"category_ids",variant:e,"selected-filters":t.getCurrentFilters},on:{change:function(e){return t.$emit("changeFilter",e)}}})})),1):"bike_collection"===a?r("div",{staticClass:"content price"},t._l(e,(function(e,a){return r("price-selector",{key:a,staticClass:"price-select mb10 block",attrs:{context:"category",code:"bike_collection",variant:e,"selected-filters":t.getCurrentFilters},on:{change:function(e){return t.$emit("changeFilter",e)}}})})),1):"riding_position"===a?r("div",{staticClass:"content price"},t._l(e,(function(e,a){return r("price-selector",{key:a,staticClass:"price-select mb10 block",attrs:{context:"category",code:"riding_position",variant:e,"selected-filters":t.getCurrentFilters},on:{change:function(e){return t.$emit("changeFilter",e)}}})})),1):t._e()])})),t._v(" "),r("div",{staticClass:"view-as"},[r("h5",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("View As"))+"\n    ")]),t._v(" "),r("div",{staticClass:"content"},[r("div",{staticClass:"view-as-type"},[r("div",{staticClass:"grid view-type",class:["grid"===t.selectab?"active":""],attrs:{"view-type":"gridView"},on:{click:function(e){return t.mode("grid")}}},[r("i",{staticClass:"fa fa-th-large",attrs:{"aria-hidden":"true"}}),t._v(" "),r("span",[t._v(t._s(t.$t("Grid")))])]),t._v(" "),r("div",{staticClass:"list view-type",class:["list"===t.selectab?"active":""],attrs:{"view-type":"listView"},on:{click:function(e){return t.mode("list")}}},[r("i",{staticClass:"fa fa-th-list",attrs:{"aria-hidden":"true"}}),t._v(" "),r("span",[t._v(t._s(t.$t("List")))])])])])])],2)}),[],!1,null,"3007268b",null).exports),m=r(369),y=r(218),_=r(1123),C=r(3),f=r(144),k=r(1),x=r(362),P=r(1073),F=r(6),w=r(195),$=r(1039),O={name:"SortByRadio",data:()=>({sortby:"1"}),props:{variant:{type:Array,required:!0},code:{type:String,default:""},label:{type:String,default:""}},computed:{selectedFilters(){return this.$store.getters["category-next/getCurrentFilters"]}},computed:{selectedFilters(){return this.$store.getters["category-next/getCurrentFilters"]}},methods:{changeOption(t){let e;e="1"===t.target.value?this.selectedFilters[this.code]?Object.values(this.selectedFilters[this.code])[0]:{}:t.target._vOptions[t.target.selectedIndex],e.single=!0,this.$store.dispatch("category-next/switchSearchFilters",[e])}}},S=(r(1407),{name:"TopBikeSidebarFilter",components:{SortByRadio:Object(l.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sort-by relative"},[r("label",[r("select",{directives:[{name:"model",rawName:"v-model",value:t.sortby,expression:"sortby"}],attrs:{name:"sortby"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.sortby=e.target.multiple?r:r[0]},t.changeOption]}},[r("option",{attrs:{selected:"selected"},domProps:{value:1}},[t._v("\n        "+t._s(t.label)+"\n      ")]),t._v(" "),t._l(t.variant,(function(e){return r("option",{key:e.id,domProps:{value:e}},[t._v("\n        "+t._s(e.label)+"\n      ")])}))],2)]),t._v(" "),r("div",{staticClass:"rc-hide"},[t._v("\n    "+t._s(t.selectedFilters)+"\n  ")])])}),[],!1,null,"64348ddc",null).exports},data:()=>({selectab:"grid"}),props:{filters:{type:Object,required:!0}},computed:{hasActiveFilters(){return this.$store.getters["category-next/hasActiveFilters"]},materialFilter(){return this.filters&&0!==Object.keys(this.filters).length?this.filters.material:[]},bikeCollectionFilter(){return this.filters&&0!==Object.keys(this.filters).length?this.filters.bike_collection:[]},lightsUsageFilter(){return this.filters&&0!==Object.keys(this.filters).length?this.filters.lights_usage:[]}},methods:{resetAllFilters(){this.$store.dispatch("category-next/resetSearchFilters")},sortById:t=>[...t].sort((t,e)=>t.id-e.id)}}),j=(r(1408),Object(l.a)(S,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sidebar"},[t.lightsUsageFilter.length?r("div",{staticClass:"content color"},[r("sort-by-radio",{staticClass:"sort-one price-select mb10 block",attrs:{"has-label":!0,code:"lights_usage",label:t.$t("Usage"),variant:t.lightsUsageFilter},on:{change:function(e){return t.$emit("changeFilter",e)}}})],1):t._e(),t._v(" "),t.bikeCollectionFilter.length?r("div",{staticClass:"content color"},[r("sort-by-radio",{staticClass:"sort-one price-select mb10 block",attrs:{"has-label":!0,code:"bike_collection",label:t.$t("Bike Collection"),variant:t.bikeCollectionFilter},on:{change:function(e){return t.$emit("changeFilter",e)}}})],1):t._e(),t._v(" "),t.materialFilter.length?r("div",{staticClass:"content color"},[r("sort-by-radio",{staticClass:"sort-one price-select mb10 block",attrs:{"has-label":!0,code:"material",label:t.$t("Material"),variant:t.materialFilter},on:{change:function(e){return t.$emit("changeFilter",e)}}})],1):t._e()])}),[],!1,null,"3ac2e2fe",null).exports),B=r(4),I=r(365),A=r(219),T=r(358),L=r(220),E=r(221),D=r(61),M=r(377),z={name:"TopLevelBikesProductTitle",mixins:[A.a,L.a,E.a],components:{ProductImage:T.a,PriceWasSave:I.a,ProductColorSwitcher:M.a},data:()=>({thumbnailImage:{src:null,loading:null}}),props:{labelsActive:{type:Boolean,default:!0},onlyImage:{type:Boolean,default:!1}},computed:{...Object(h.c)({localisePrice:"ayko_localisation/localisePrice"}),finalPrice(){return this.localisePrice(this.product.final_price_incl_tax)},thumbnailObj(){return{src:this.thumbnailImage.src?this.thumbnailImage.src:this.thumbnail,loading:this.thumbnailImage.loading?this.thumbnailImage.loading:this.thumbnail}},thumbnail(){return this.getThumbnail(Object(C.m)(this.product),this.$config.bikebuilder.thumbnails.width,this.$config.bikebuilder.thumbnails.height)},favoriteIcon(){return this.isOnWishlist?"favorite":"favorite_border"},getAttrOptionLabel(){return(t,e)=>Object(D.a)(this.$store.state.attribute,{attributeKey:t,searchBy:"code",optionId:e})},storeView:()=>Object(F.b)(),bikeOptionsColorsSorted(){return this.product.configurable_options.map(t=>"bike_frame_colour"in this.product&&"bike_frame_colour"===t.attribute_code?{...t,values:t.values.sort(t=>Number(t)===Number(this.product.bike_frame_colour)?-1:1)}:t)}},methods:{stripMagentoVariables:t=>void 0!==t?t.replace('{{media url="',"/assets").replace('"}}',""):"",findVariationImage(t){let e=null;return this.product.configurable_children.forEach(r=>{Object.values(r).indexOf(t)>-1&&r.image&&(e=r)}),e},changeImage(t){this.thumbnailImage.src=this.getThumbnail(this.findVariationImage(t.value_index).image,this.$config.bikebuilder.thumbnails.width,this.$config.bikebuilder.thumbnails.height)},onProductPriceUpdate(t){t.sku===this.product.sku&&Object.assign(this.product,t)},visibilityChanged(t,e){if(t&&this.$config.products.configurableChildrenStockPrefetchDynamic&&this.$config.products.filterUnavailableVariants&&"configurable"===this.product.type_id&&this.product.configurable_children&&this.product.configurable_children.length>0){const t=[this.product.sku];for(const e of this.product.configurable_children){const r=B.a.state.stock.cache[e.id];null==r&&t.push(e.sku)}t.length>0&&B.a.dispatch("stock/list",{skus:t})}}},beforeMount(){this.$bus.$on("product-after-priceupdate",this.onProductPriceUpdate)},beforeDestroy(){this.$bus.$off("product-after-priceupdate",this.onProductPriceUpdate)}},H=(r(1409),Object(l.a)(z,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"product align-center w-100 pb20"},[r("div",{staticClass:"items block no-underline product-link align-left",attrs:{"data-testid":"productLink'"}},[r("div",{staticClass:"product-cover bg-cl-white",class:[{sale:t.labelsActive&&t.isOnSale},{new:t.labelsActive&&t.isNew}]},[r("div",{staticClass:"configuration-content"},[t.product.configurable_options?r("product-color-switcher",{attrs:{children:t.bikeOptionsColorsSorted},on:{mouseover:function(e){return t.changeImage(e)}}}):t._e()],1),t._v(" "),r("router-link",{attrs:{to:t.productLink,"data-testid":"productLink'"}},[r("product-image",{staticClass:"product-cover__thumb",attrs:{image:t.thumbnailObj,alt:t._f("htmlDecode")(t.product.name),"calc-ratio":!1,fancybox:!1}})],1)],1),t._v(" "),r("div",{staticClass:"product-details"},[t.onlyImage?t._e():r("router-link",{staticClass:"mt10 heading heading--four",attrs:{to:t.productLink,"data-testid":"productLink'"}},[t._v("\n        "+t._s(t.getAttrOptionLabel("manufacturer",t.product.manufacturer))+"\n        "+t._s(t._f("htmlDecode")(t.product.name))+"\n      ")]),t._v(" "),t.product.bike_type?r("p",{staticClass:"heading heading--six",domProps:{innerHTML:t._s(t.product.bike_type)}}):t._e(),t._v(" "),r("div",{staticClass:"description mb20",domProps:{innerHTML:t._s(t.product.product_list_description||t.product.description)}}),t._v(" "),r("PriceWasSave",{attrs:{product:t.product,"from-price":!0}}),t._v(" "),r("div",[r("router-link",{staticClass:"mt10 action action--black action--large",attrs:{to:t.productLink,"data-testid":"productLink'"}},[t._v("\n          "+t._s(t.$t("Explore The Bike"))+"\n          "),r("i",{staticClass:"fa fa-arrow-right"})])],1)],1)])])}),[],!1,null,"7a4fa134",null).exports);let N=0;var V={name:"TopLevelBikesProductListing",components:{TopLevelBikesProductTile:H},props:{products:{type:null,required:!0},columns:{type:[Number,String],required:!0}},methods:{wide(t,e,r){let a=("1"===t||"1"===e)&&(r>0&&(r-1-N)%2==0)||r===this.products.length-1&&(r-N)%2!=0;return a&&(N=r),"col-xs-12"}}},R=Object(l.a)(V,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"top-level-bikes product-listing row m0 center-xs start-md"},t._l(t.products,(function(e,a){return r("div",{key:"top-level-bikes-product-listing-"+e.id,staticClass:"product-list col-sm-12 flex ",class:["col-md-12",t.wide(e.sale,e.new,a)]},[r("top-level-bikes-product-tile",{attrs:{product:e}})],1)})),0)}),[],!1,null,null,null).exports,q=r(1098),Q={name:"CategoryMenu",computed:{...Object(h.c)("craftCms",["getCategoryMenuData"]),blockData(){return this.getCategoryMenuData.category},centerRoundels(){return this.blockData&&this.blockData.categoryMenu.length<5?"justify-center":""}}},U=(r(1410),Object(l.a)(Q,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.blockData?r("div",{staticClass:"content mx-auto"},[r("ul",{staticClass:"flex overflow-x-auto rc-hide-scroll",class:t.centerRoundels},t._l(t.blockData.categoryMenu,(function(e){return r("li",{key:e.id,staticClass:"flex items-start pt-4 whitespace-normal w-24 mx-3"},[r("router-link",{staticClass:"text-cyan-400 text-center",attrs:{to:e.menuLink}},[r("img",{staticClass:"rounded-full max-w-none h-24 w-24 object-cover",attrs:{src:e.menuImage[0].url}}),t._v(" "),r("div",{staticClass:"whitespace-normal"},[r("h3",{staticClass:"text-base mt-3 mb-0 "},[t._v("\n          "+t._s(e.menuHeading)+"\n        ")])])])],1)})),0)]):t._e()}),[],!1,null,"4b490626",null).exports),W=r(560),Y=r.n(W),J={components:{CategoryMenu:U,LazyHydrate:a.a,TopLevelBikesProductListing:R,Breadcrumbs:y.a,Sidebar:j,SortBy:_.a,CmsBlock:$.a},mixins:[x.a,q.a],data:()=>({subcategories:[],mobileFilters:!1,defaultColumn:1,loadingProducts:!1,loading:!0,readMoreActive:!1}),computed:{...Object(h.c)({getCurrentSearchQuery:"category-next/getCurrentSearchQuery",getCategoryProducts:"category-next/getCategoryProducts",getCurrentCategory:"category-next/getCurrentCategory",getCategoryProductsTotal:"category-next/getCategoryProductsTotal",getAvailableFilters:"category-next/getAvailableFilters",getCategoryMenuData:"craftCms/getCategoryMenuData"}),isLazyHydrateEnabled:()=>k.ssr.lazyHydrateFor.includes("category-next.products"),isCategoryEmpty(){return 0===this.getCategoryProductsTotal},subtitle(){return Object(w.stripHTML)(this.getCurrentCategory.description_top)},pageSlug(){return this.getCurrentCategory?this.getCurrentCategory.url_key:null},plainText(){let t=this.getCurrentCategory.description.replace(/<[^>]*>/g,"");return Y.a.decode(t)},shortenedDescription(){let t=this.plainText.substring(0,140),e=t.split(" ")[t.split(" ").length-1],r=t.lastIndexOf(e);return t.substring(0,r)+"..."},categoryData(){return this.getCategoryMenuData}},methods:{showDetails(t){this.detailsOpen=!0,t.target.classList.add("hidden")},openFilters(){this.mobileFilters=!0},closeFilters(){this.mobileFilters=!1},async changeFilter(t){this.$store.dispatch("category-next/switchSearchFilters",[t])},columnChange(t){this.defaultColumn=t},async onBottomScroll(){if(!this.loadingProducts){this.loadingProducts=!0;try{await this.$store.dispatch("category-next/loadMoreCategoryProducts")}catch(t){console.error("Problem with fetching more products",t)}finally{this.loadingProducts=!1}}},activateReadMore(){this.readMoreActive=!this.readMoreActive}},metaInfo(){const{meta_title:t,meta_description:e,name:r,slug:a}=this.getCurrentCategory,i=e?[{vmid:"description",name:"description",content:Object(w.htmlDecode)(e)}]:[];return{link:[],title:Object(w.htmlDecode)(t||r),description:i}},mounted(){window.addEventListener("scroll",(function(){window.pageYOffset>=e?t.classList.add("sticky"):t.classList.remove("sticky")}));const t=document.getElementById("filterBar"),e=t.offsetTop;C.g||this.$el.querySelectorAll(".filter-bike-sidebar div").forEach(t=>!t.innerText&&t.remove())},created(){!C.g&&this.isKiosk&&this.setIdleTimer()},watch:{getCurrentCategory:{handler(){this.readMoreActive=!1},deep:!0}}},K=(r(1411),r(1412),Object(l.a)(J,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"toplevel-bikes bg-white category-page",attrs:{id:"category"}},[r("header",{staticClass:"pt25 container"},[r("breadcrumbs"),t._v(" "),r("div",{staticClass:"header-content"},[r("div",{staticClass:"header-block"},[r("h1",{staticClass:"category-title mb10 mt10 u-text-transform--uppercase"},[t._v("\n          "+t._s(t.getCurrentCategory.name)+"\n        ")]),t._v(" "),t.subtitle?r("h3",{staticClass:"category-subtitle"},[t._v("\n          "+t._s(t.subtitle)+"\n        ")]):t._e(),t._v(" "),t.getCurrentCategory.description?r("div",{staticClass:"category-details"},[t.readMoreActive?t._e():r("span",[t._v(" "+t._s(t.shortenedDescription))]),t._v(" "),t.readMoreActive?t._e():r("a",{staticStyle:{color:"#00b3e3"},attrs:{href:"#"},on:{click:t.activateReadMore}},[t._v("Read more")]),t._v(" "),t.readMoreActive?r("span",[t._v(" "+t._s(t.plainText))]):t._e(),t._v(" "),t.readMoreActive?r("a",{staticStyle:{color:"#00b3e3"},attrs:{href:"#"},on:{click:t.activateReadMore}},[t._v("Read less")]):t._e()]):t._e()])])],1),t._v(" "),void 0!==t.getCurrentCategory.ribble_landing_banner&&t.getCurrentCategory.ribble_landing_banner?r("div",{staticClass:"category-image-block"},[r("div",{staticClass:"header-content-image",domProps:{innerHTML:t._s(t.getCurrentCategory.ribble_landing_banner)}})]):t._e(),t._v(" "),r("div",{staticClass:"py25 container"},[r("CategoryMenu",{key:t.pageSlug,attrs:{blockData:t.categoryData}})],1),t._v(" "),t.getCurrentCategory.landing_page?r("cms-block",{attrs:{id:t.getCurrentCategory.landing_page}}):t._e(),t._v(" "),r("div",{staticClass:"sortby-container",attrs:{id:"filterBar"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"sorting-block pt-2 pr-2"},[r("div",{staticClass:"sorting sort-by-attr"},[r("span",[t._v(t._s(t.$t("Sort By:")))]),t._v(" "),r("sort-by",{staticClass:"bg-white",attrs:{"has-label":!0,value:t.getCurrentSearchQuery.sort},on:{change:t.changeFilter}})],1),t._v(" "),t.getAvailableFilters?r("div",{staticClass:"sorting align-center filter-by-attr"},[r("span",[t._v(t._s(t.$t("Filter By:")))]),t._v(" "),r("sidebar",{staticClass:"filter-bike-sidebar",attrs:{filters:t.getAvailableFilters},on:{changeFilter:t.changeFilter}})],1):t._e()])])]),t._v(" "),r("div",{staticClass:"container pb60"},[r("div",{staticClass:"row m0 pt45 container-block"},[r("div",{staticClass:"col-md-12 border-box products-list"},[t.isCategoryEmpty?r("div",{staticClass:"hidden-xs pb50"},[r("h4",{attrs:{"data-testid":"noProductsInfo"}},[t._v("\n            "+t._s(t.$t("No products found!"))+"\n          ")]),t._v(" "),r("p",[t._v(t._s(t.$t("Please change Your search criteria and try again. If still not finding anything relevant, please visit the Home page and try out some of our bestsellers!")))])]):t._e(),t._v(" "),t.isLazyHydrateEnabled?r("lazy-hydrate",{attrs:{"trigger-hydration":!t.loading}},[r("top-level-bikes-product-listing",{attrs:{columns:t.defaultColumn,products:t.getCategoryProducts}})],1):r("top-level-bikes-product-listing",{attrs:{columns:t.defaultColumn,products:t.getCategoryProducts}}),t._v(" "),t.getCurrentCategory.children_data?r("div",{staticClass:"other-category"},[r("span",{staticClass:"title"},[t._v(t._s(t.$t("Other Categories:")))]),t._v(" "),t._l(t.getCurrentCategory.children_data.slice(0,6),(function(e,a){return r("div",{key:e+a,staticClass:"heading",attrs:{value:e}},[r("router-link",{attrs:{to:t.localizedRoute(e.url_key)}},[t._v("\n              "+t._s(e.name)+"\n            ")])],1)}))],2):t._e()],1)]),t._v(" "),t.getCurrentCategory.bottom_cms_block?r("cms-block",{attrs:{id:t.getCurrentCategory.bottom_cms_block}}):t._e()],1)],1)}),[],!1,null,"3fa81c18",null).exports),G=r(364),X=r(373),Z=r(376),tt={name:"CategoryParentProductTile",mixins:[A.a,L.a,E.a],components:{ProductImage:T.a,AddToWishlist:X.a,AddToCompare:Z.a,PriceWasSave:I.a},props:{labelsActive:{type:Boolean,default:!0},onlyImage:{type:Boolean,default:!1}},computed:{...Object(h.c)({localisePrice:"ayko_localisation/localisePrice"}),thumbnailObj(){return{src:this.thumbnail,loading:this.thumbnail}},favoriteIcon(){return this.isOnWishlist?"favorite":"favorite_border"},getAttrOptionLabel(){return(t,e)=>Object(D.a)(this.$store.state.attribute,{attributeKey:t,searchBy:"code",optionId:e})},storeView:()=>Object(F.b)()},methods:{onProductPriceUpdate(t){t.sku===this.product.sku&&Object.assign(this.product,t)},visibilityChanged(t,e){if(t&&k.products.configurableChildrenStockPrefetchDynamic&&k.products.filterUnavailableVariants&&"configurable"===this.product.type_id&&this.product.configurable_children&&this.product.configurable_children.length>0){const t=[this.product.sku];for(const e of this.product.configurable_children){const r=B.a.state.stock.cache[e.id];null==r&&t.push(e.sku)}t.length>0&&B.a.dispatch("stock/list",{skus:t})}}},beforeMount(){this.$bus.$on("product-after-priceupdate",this.onProductPriceUpdate)},beforeDestroy(){this.$bus.$off("product-after-priceupdate",this.onProductPriceUpdate)}},et=(r(1413),Object(l.a)(tt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"category-parent-product-list product align-center w-100 pb20"},[r("div",{staticClass:"product__icons"},[r("AddToWishlist",{attrs:{product:t.product}},[r("div",{staticClass:"product__icon",class:{"product__icon--active":t.isOnWishlist},attrs:{title:t.isOnWishlist?t.$t("Remove"):t.$t("Add to favorite")}},[r("i",{staticClass:"material-icons"},[t._v(t._s(t.favoriteIcon))])])]),t._v(" "),r("AddToCompare",{attrs:{product:t.product}},[r("div",{staticClass:"product__icon",class:{"product__icon--active":t.isOnCompare},attrs:{title:t.isOnCompare?t.$t("Remove from compare"):t.$t("Add to compare")}},[r("i",{staticClass:"material-icons"},[t._v("compare")])])])],1),t._v(" "),r("div",{staticClass:"block no-underline product-link align-left"},[r("router-link",{staticClass:"product-cover bg-cl-white",class:[{sale:t.labelsActive&&t.isOnSale},{new:t.labelsActive&&t.isNew}],attrs:{to:"/"+t.product.slug}},[r("product-image",{staticClass:"product-cover__thumb",attrs:{image:t.thumbnailObj,alt:t._f("htmlDecode")(t.product.name),"calc-ratio":!1,fancybox:!1,"data-testid":"productImage"}})],1),t._v(" "),r("div",{staticClass:"product-details"},[r("router-link",{attrs:{to:"/"+t.product.slug}},[t.onlyImage?t._e():r("p",{staticClass:"mb0 cl-accent mt10 heading2 ab product-details__name"},[t._v("\n          "+t._s(t._f("htmlDecode")(t.product.name))+"\n        ")]),t._v(" "),r("span",{staticClass:"subtitle"},[t._v(" "+t._s(t.product.subtitle))]),t._v(" "),r("PriceWasSave",{attrs:{product:t.product,"from-price":!0}}),t._v(" "),r("span",{staticClass:"action-link button"},[t._v("\n          "+t._s(t.$t("Learn More"))+"\n          "),r("i",{staticClass:"fa fa-arrow-right"})])],1),t._v(" "),r("a",{staticClass:"custom-link button",attrs:{href:"#"}},[t._v("\n        "+t._s(t.$t("Customise"))+"\n        "),r("i",{staticClass:"fa fa-cog"})])],1)],1)])}),[],!1,null,"53357fca",null).exports);let rt=0;var at={name:"CategoryParentProductListing",components:{ProductTile:G.a,CategoryParentProductTile:et},props:{products:{type:null,required:!0},columns:{type:[Number,String],required:!0}},methods:{wide(t,e,r){let a=("1"===t||"1"===e)&&(r>0&&(r-1-rt)%2==0)||r===this.products.length-1&&(r-rt)%2!=0;return a&&(rt=r),a?"col-xs-12":"col-xs-6"}}},it=Object(l.a)(at,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"product-listing gridView",attrs:{"data-view-as":""}},this._l(this.products,(function(t){return e("div",{key:t.id},[e("category-parent-product-tile",{attrs:{product:t}})],1)})),0)}),[],!1,null,null,null).exports,st=r(1011),nt=r.n(st),ot=r(1058),ct=r(1059),lt={components:{LazyHydrate:a.a,CategoryParentProductListing:it,Breadcrumbs:y.a,Sidebar:v,SortBy:_.a,Collapse:nt.a,CmsBlock:$.a},mixins:[x.a],data(){return{mobileFilters:!1,defaultColumn:4,loadingProducts:!1,loading:!0,bikeparentpage:{title:this.$t("Default Bikes Page"),imagesrc:"../assets/bikelist/bikelist-banner.png"}}},computed:{...Object(h.c)({getCurrentSearchQuery:"category-next/getCurrentSearchQuery",getCategoryProducts:"category-next/getCategoryProducts",getCurrentCategory:"category-next/getCurrentCategory",getCategoryProductsTotal:"category-next/getCategoryProductsTotal",getAvailableFilters:"category-next/getAvailableFilters"}),isLazyHydrateEnabled:()=>k.ssr.lazyHydrateFor.includes("category-next.products"),isCategoryEmpty(){return 0===this.getCategoryProductsTotal}},methods:{showDetails(t){this.detailsOpen=!0,t.target.classList.add("hidden")},openFilters(){this.mobileFilters=!0},closeFilters(){this.mobileFilters=!1},async changeFilter(t){this.$store.dispatch("category-next/switchSearchFilters",[t])},columnChange(t){this.defaultColumn=t},async onBottomScroll(){if(!this.loadingProducts){this.loadingProducts=!0;try{await this.$store.dispatch("category-next/loadMoreCategoryProducts")}catch(t){console.error("Problem with fetching more products",t)}finally{this.loadingProducts=!1}}}},metaInfo(){const{meta_title:t,meta_description:e,name:r,slug:a}=this.getCurrentCategory,i=e?[{vmid:"description",name:"description",content:Object(w.htmlDecode)(e)}]:[];let s={link:[],title:Object(w.htmlDecode)(t||r),meta:i};return s=ot.a.addCanonical(this.getCurrentCategory,s),s=ct.a.addHreflangs(this.getCurrentCategory,s),s}},dt=(r(1414),r(1415),Object(l.a)(lt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"categoryparentpage"}},[r("div",{staticClass:"header-content banner-block"},[r("div",{staticClass:"header-content-image",domProps:{innerHTML:t._s(t.getCurrentCategory.ribble_landing_banner)}}),t._v(" "),r("div",{staticClass:"header-content-data text-color-white"},[r("breadcrumbs"),t._v(" "),r("h1",{staticClass:"page-title text-4xl my-4"},[t._v("\n        "+t._s(t.getCurrentCategory.name)+"\n      ")])],1),t._v(" "),r("div",{staticClass:"category-parent-menu"},[r("cms-block",{attrs:{identifier:"bikes-category-menu"}})],1)]),t._v(" "),r("div",{staticClass:"container pb60"},[r("div",{staticClass:"sub-category-block mobile-view"},[r("collapse",{attrs:{selected:!1}},[r("div",{attrs:{slot:"collapse-header"},slot:"collapse-header"},[r("h3",{staticClass:"title"},[t._v("\n            "+t._s(t.$t("View Bike Categories"))+"\n          ")])]),t._v(" "),r("div",{attrs:{slot:"collapse-body"},slot:"collapse-body"},[r("cms-block",{attrs:{identifier:"bikes-category-menu"}})],1)])],1),t._v(" "),r("p",{staticClass:"item-count"},[t._v("\n      "+t._s(t.$t("We found {bikeCount} bikes for you",{bikeCount:t.getCategoryProductsTotal}))+"\n    ")]),t._v(" "),r("div",{staticClass:"category-parent-main container-block"},[r("div",{staticClass:"start-xs category-filters filters"},[r("sidebar",{attrs:{filters:t.getAvailableFilters},on:{changeFilter:t.changeFilter}})],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.mobileFilters,expression:"mobileFilters"}],staticClass:"col-md-4 start-xs mobile-filters filters"},[r("div",{staticClass:"close-container absolute w-100"},[r("i",{staticClass:"material-icons p15 close cl-accent",on:{click:t.closeFilters}},[t._v("close")])]),t._v(" "),r("sidebar",{staticClass:"mobile-filters-body",attrs:{filters:t.getAvailableFilters},on:{changeFilter:t.changeFilter}})],1),t._v(" "),r("div",{staticClass:"products-list"},[r("header",[r("button",{staticClass:"mr15 my-2 p15 sorting mobile-filters-button bg-cl-th-accent brdr-none cl-white h5",on:{click:t.openFilters}},[t._v("\n            "+t._s(t.$t("Bike Finder Filter"))+"\n          ")]),t._v(" "),r("div",{staticClass:"mobile-sorting my-2 sorting"},[r("sort-by",{attrs:{value:t.getCurrentSearchQuery.sort},on:{change:t.changeFilter}})],1)]),t._v(" "),t.getCurrentCategory.name?r("div",{staticClass:"toolbar-container"},[r("div",{staticClass:"sorting col-sm-2 align-right"},[r("sort-by",{attrs:{"has-label":!0,value:t.getCurrentSearchQuery.sort},on:{change:t.changeFilter}})],1)]):t._e(),t._v(" "),t.isCategoryEmpty?r("div",{staticClass:"hidden-xs pb50"},[r("h4",{attrs:{"data-testid":"noProductsInfo"}},[t._v("\n            "+t._s(t.$t("No products found!"))+"\n          ")]),t._v(" "),r("p",[t._v(t._s(t.$t("Please change Your search criteria and try again. If still not finding anything relevant, please visit the Home page and try out some of our bestsellers!")))])]):t._e(),t._v(" "),t.isLazyHydrateEnabled?r("lazy-hydrate",{attrs:{"trigger-hydration":!t.loading}},[r("category-parent-product-listing",{attrs:{columns:t.defaultColumn,products:t.getCategoryProducts}})],1):r("category-parent-product-listing",{attrs:{columns:t.defaultColumn,products:t.getCategoryProducts}})],1)])])])}),[],!1,null,"cee2e8fa",null).exports),ut={components:{Breadcrumbs:y.a,Collapse:nt.a,CmsBlock:$.a},data:()=>({}),computed:{...Object(h.c)({getCurrentSearchQuery:"category-next/getCurrentSearchQuery",getCategoryProducts:"category-next/getCategoryProducts",getCurrentCategory:"category-next/getCurrentCategory",getCategoryProductsTotal:"category-next/getCategoryProductsTotal",getAvailableFilters:"category-next/getAvailableFilters"}),...Object(h.c)("category",["getCategories"]),landingCatIds(){return this.allCategories.filter(t=>{let e,r=this.getCurrentCategory.landing_cat_ids;if(r)for(r=r.split(","),e=0;e<r.length;e++)if(t.id===parseInt(r[e]))return t.id===parseInt(r[e])})},contentCatIds(){return this.allCategories.filter(t=>{let e,r=this.getCurrentCategory.content_cat_ids;if(r)for(r=r.split(","),e=0;e<r.length;e++)if(t.id===parseInt(r[e]))return t.id===parseInt(r[e])})}},metaInfo(){const{meta_title:t,meta_description:e,name:r,slug:a}=this.getCurrentCategory,i=e?[{vmid:"description",name:"description",content:Object(w.htmlDecode)(e)}]:[];let s={link:[],title:Object(w.htmlDecode)(t||r),meta:i};return s=ot.a.addCanonical(this.getCurrentCategory,s),s=ct.a.addHreflangs(this.getCurrentCategory,s),s}},gt=(r(1417),r(1418),Object(l.a)(ut,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bikelist bg-white text-color-black category-landing",attrs:{id:"categoryLandingPage"}},[a("div",{staticClass:"header-content banner-block"},[a("div",{staticClass:"header-content-image",domProps:{innerHTML:t._s(t.getCurrentCategory.ribble_landing_banner)}}),t._v(" "),a("div",{staticClass:"header-content-data text-color-white"},[a("breadcrumbs"),t._v(" "),a("h1",{staticClass:"page-title text-4xl my-4 text-color-white"},[t._v("\n        "+t._s(t.getCurrentCategory.name)+"\n      ")]),t._v(" "),a("div",{staticClass:"block-content"},[a("ul",{staticClass:"items"},t._l(t.landingCatIds,(function(e){return a("li",{key:e.name,staticClass:"item"},[a("router-link",{staticClass:"cl-accent",attrs:{to:t.localizedRoute(e.url_key)}},[t._v("\n              "+t._s(e.name)+"\n            ")])],1)})),0)])],1)]),t._v(" "),a("div",{staticClass:"sub-category-block mobile-view"},[a("collapse",{attrs:{selected:!0}},[a("div",{attrs:{slot:"collapse-header"},slot:"collapse-header"},[a("h3",{staticClass:"title"},[t._v("\n          "+t._s(t.$t("Browse Categories"))+"\n        ")])]),t._v(" "),a("div",{attrs:{slot:"collapse-body"},slot:"collapse-body"},[a("ul",{staticClass:"items"},t._l(t.landingCatIds,(function(e){return a("li",{key:e.name,staticClass:"item"},[a("router-link",{staticClass:"cl-accent",attrs:{to:t.localizedRoute(e.url_key)}},[t._v("\n              "+t._s(e.name)+"\n            ")])],1)})),0)])])],1),t._v(" "),a("div",{staticClass:"category-content-block block1"},[t.getCurrentCategory.bottom_cms_block?a("cms-block",{attrs:{id:t.getCurrentCategory.bottom_cms_block}}):t._e()],1),t._v(" "),a("div",{staticClass:"category-content-block block2"},[a("div",{staticClass:"category-block content2 container text-color-black"},[a("div",{staticClass:"block-content"},[a("ul",{staticClass:"items"},t._l(t.contentCatIds,(function(e){return a("li",{key:e.name,staticClass:"item"},[a("div",{staticClass:"category-block-content"},[e.ribble_category_grid?a("div",{staticClass:"category-image",domProps:{innerHTML:t._s(e.ribble_category_grid)}}):a("div",{staticClass:"category-image"},[a("img",{attrs:{src:r(1416),alt:"category image"}})]),t._v(" "),a("div",{staticClass:"category-details"},[a("span",{staticClass:"title"},[t._v("\n                  "+t._s(e.name)+"\n                ")]),t._v(" "),a("router-link",{staticClass:"cl-accent",attrs:{to:t.localizedRoute(e.url_key)}},[t._v("\n                  "+t._s(t.$t("Shop Now"))+"\n                  "),a("i",{staticClass:"fa fa-arrow-right"})])],1)])])})),0)])])])])}),[],!1,null,"585c70ee",null).exports),pt=r(1006),ht=r.n(pt);let bt="undefined"!=typeof window;var vt={name:"ProductsSlider",components:{Carousel:()=>bt?Promise.all([r.e(63),r.e(66),r.e(70),r.e(72),r.e(73),r.e(68),r.e(74),r.e(38),r.e(39),r.e(28),r.e(69)]).then(r.t.bind(null,1016,7)).then(t=>t.Carousel):null,Slide:()=>bt?Promise.all([r.e(63),r.e(66),r.e(70),r.e(72),r.e(73),r.e(68),r.e(74),r.e(38),r.e(39),r.e(28),r.e(69)]).then(r.t.bind(null,1016,7)).then(t=>t.Slide):null,ProductTile:G.a,ClientOnly:ht.a},props:{title:{type:String,default:""},products:{type:Array,required:!0},config:{type:Object,required:!0},isPacSlider:{type:Boolean,default:!1}},data:()=>({currentPage:0,configNonReactive:{}}),created(){this.configNonReactive=JSON.parse(JSON.stringify(this.config))}},mt=(r(1419),{components:{ProductsSlider:Object(l.a)(vt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"collection"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row center-xs"},[r("header",{staticClass:"col-md-12"},[r("h2",{staticClass:"align-center cl-accent"},[t._v("\n          "+t._s(t.title)+"\n        ")])])])]),t._v(" "),r("div",{staticClass:"collection-slider",class:{"bg-cl-secondary":!t.isPacSlider}},[r("div",{staticClass:"container px15"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"center-xs cool-stuff-collection"},[r("client-only",[r("carousel",t._b({},"carousel",t.configNonReactive,!1),t._l(t.products,(function(e){return r("slide",{key:e.id},[r("product-tile",{staticClass:"collection-product",attrs:{product:e,"labels-active":!1,"only-image":!t.isPacSlider}})],1)})),1)],1)],1)])])])])])}),[],!1,null,null,null).exports,Breadcrumbs:y.a,CmsBlock:$.a},data:()=>({bestsellerSliderConfig:{perPage:1,perPageCustom:[[767,2],[1023,3]],scrollPerPage:!1,paginationEnabled:!1,loop:!0,autoplay:!0,autoplayTimeout:4e3,speed:1e3,autoplayHoverPause:!0}}),computed:{...Object(h.c)({getCurrentCategory:"category-next/getCurrentCategory",categories:"pac-page/getCategories",landingCatIds:"pac-page/getLandingCatIds",contentCatIds:"pac-page/getContentCatIds",bestsellerProducts:"pac-page/getBestsellerProducts"}),landingCategories(){return this.categories.filter(t=>this.landingCatIds.includes(t.id))},contentCategories(){return this.categories.filter(t=>this.contentCatIds.includes(t.id))},contentCategoriesToDisplay(){return this.contentCategories&&this.contentCategories.filter(t=>t.id in this.bestsellerProducts)}},metaInfo(){const{meta_title:t,meta_description:e,name:r,slug:a}=this.getCurrentCategory,i=e?[{vmid:"description",name:"description",content:Object(w.htmlDecode)(e)}]:[];let s={link:[],title:Object(w.htmlDecode)(t||r),meta:i};return s=ot.a.addCanonical(this.getCurrentCategory,s),s=ct.a.addHreflangs(this.getCurrentCategory,s),s}}),yt=Object(l.a)(mt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-white text-color-black category-page",attrs:{id:"category"}},[r("div",{staticClass:"pca-landing bg-white"},[r("header",{staticClass:"py25 container"},[r("breadcrumbs"),t._v(" "),r("div",{staticClass:"description-block bg-white text-color-black",attrs:{id:"description","data-cy":"description"}},[r("div",{staticClass:"col-8 content-description"},[t._l(t.landingCategories,(function(e){return r("div",{key:e.id,staticClass:"heading"},[r("router-link",{attrs:{to:t.localizedRoute("/"+e.slug)}},[t._v("\n              "+t._s(e.name)+" "),r("i",{staticClass:"fa fa-arrow-right"})])],1)})),t._v(" "),r("div",{staticClass:"heading-des",domProps:{innerHTML:t._s(t.getCurrentCategory.description)}})],2)])],1),t._v(" "),t.getCurrentCategory.ribble_landing_banner?r("div",{staticClass:"image-block block1",domProps:{innerHTML:t._s(t.getCurrentCategory.ribble_landing_banner)}}):t._e(),t._v(" "),t._l(t.contentCategoriesToDisplay,(function(e,a){return r("div",{key:e.id},[r("div",{staticClass:"product-content-data container text-color-black",class:"block"+(a+1)},[r("div",{staticClass:"content-description"},[r("div",{staticClass:"heading"},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),r("div",{staticClass:"product-collections"},[r("div",{staticClass:"slider-items"},[r("products-slider",{attrs:{products:t.bestsellerProducts[e.id],config:t.bestsellerSliderConfig,"is-pac-slider":!0}})],1)])])]),t._v(" "),1===a&&t.getCurrentCategory.ribble_secondary_banner?r("div",{staticClass:"image-block block2",domProps:{innerHTML:t._s(t.getCurrentCategory.ribble_secondary_banner)}}):t._e(),t._v(" "),a===t.contentCategoriesToDisplay.length-1&&t.getCurrentCategory.bottom_cms_block?r("div",{staticClass:"image-content container"},[r("cms-block",{attrs:{id:t.getCurrentCategory.bottom_cms_block}})],1):t._e()])}))],2)])}),[],!1,null,null,null).exports;const _t=async function(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const a=Object(f.c)(e.params),i=t.getters["category-next/getCategoryFrom"](e.path),s=i&&!r?i:await t.dispatch("category-next/loadCategory",{filters:a}),n=[];n.push(t.dispatch("category-next/loadCategoryBreadcrumbs",{category:s,currentRouteName:s.name,omitCurrent:!0})),4===parseInt(s.category_mode)?n.push(t.dispatch("pac-page/initPac",{currentCategory:s})):n.push(t.dispatch("category-next/loadCategoryProducts",{route:e,category:s,pageSize:50})),await Promise.all(n),P.a.categoryPageVisited(s)}catch(t){console.error("Problem with setting Category initial data!",t)}};var Ct={components:{TopLevelBikeCategoryPage:K,CategoryParentPage:dt,CategoryLandingPage:gt,LazyHydrate:a.a,ProductListing:m.a,Breadcrumbs:y.a,Sidebar:v,SortBy:_.a,CmsBlock:$.a,PACLandingPage:yt},mixins:[x.a],data:()=>({mobileFilters:!1,defaultColumn:4,loadingProducts:!1,loading:!0,detailsOpen:!1}),computed:{...Object(h.c)({getCurrentSearchQuery:"category-next/getCurrentSearchQuery",getCategoryProducts:"category-next/getCategoryProducts",getCurrentCategory:"category-next/getCurrentCategory",getCategoryProductsTotal:"category-next/getCategoryProductsTotal",getAvailableFilters:"category-next/getAvailableFilters"}),isLazyHydrateEnabled:()=>k.ssr.lazyHydrateFor.includes("category-next.products"),isCategoryEmpty(){return 0===this.getCategoryProductsTotal},isCategoryDefault(){return 0===parseInt(this.getCurrentCategory.category_mode)||!this.getCurrentCategory.category_mode},isPacCategory(){return 4===parseInt(this.getCurrentCategory.category_mode)},isCategoryLandingPage(){return 5===parseInt(this.getCurrentCategory.category_mode)},isTopLevelBikeCategoryPage(){return 3===parseInt(this.getCurrentCategory.category_mode)},isCategoryParentPage(){return 1===parseInt(this.getCurrentCategory.category_mode)||2===parseInt(this.getCurrentCategory.category_mode)}},async asyncData(t){let{store:e,route:r}=t;await _t(e,r,!0);const a={slug:r.params.slug.split("/").pop()};try{await e.dispatch("craftCms/updateCategoryMenu",a)}catch(t){console.log(t)}},async beforeRouteEnter(t,e,r){C.g?r():(e.name,r(async e=>{e.loading=!0,await _t(e.$store,t,C.g),e.loading=!1}))},methods:{toggleDetails(){this.detailsOpen=!this.detailsOpen},openFilters(){this.mobileFilters=!0},closeFilters(){this.mobileFilters=!1},async changeFilter(t){this.$store.dispatch("category-next/switchSearchFilters",[t])},columnChange(t){this.defaultColumn=t},async onBottomScroll(){if(!this.loadingProducts){this.loadingProducts=!0;try{await this.$store.dispatch("category-next/loadMoreCategoryProducts")}catch(t){console.error("Problem with fetching more products",t)}finally{this.loadingProducts=!1}}}},metaInfo(){const{meta_title:t,meta_description:e,name:r,slug:a}=this.getCurrentCategory,i=[{vmid:"description",name:"description",content:Object(w.stripHTML)(e)||""},{vmid:"sailthru.title",name:"sailthru.title",content:Object(w.stripHTML)(t||r)},{vmid:"sailthru.description",name:"sailthru.description",content:Object(w.stripHTML)(e)||""}];let s={link:[],title:Object(w.htmlDecode)(t||r),meta:i};return s=ot.a.addCanonical(this.getCurrentCategory,s),s=ct.a.addHreflangs(this.getCurrentCategory,s),s}},ft=(r(1420),Object(l.a)(Ct,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"category"}},[t.isCategoryEmpty&&!t.isPacCategory?r("div",{staticClass:"pt50 bg-white text-color-black"},[r("div",{staticClass:"container pb50"},[r("h4",{attrs:{"data-testid":"noProductsInfo"}},[t._v("\n        "+t._s(t.$t("No products found!"))+"\n      ")]),t._v(" "),r("p",[t._v(t._s(t.$t("Please change Your search criteria and try again. If still not finding anything relevant, please visit the Home page and try out some of our bestsellers!")))])])]):t._e(),t._v(" "),t.isCategoryDefault?r("div",{staticClass:"bg-white text-color-black category-page"},[r("div",{staticClass:"container pb60"},[r("div",{staticClass:"category-parent-main pt25 container-block"},[t.getAvailableFilters?r("div",{staticClass:"start-xs category-filters filters"},[r("sidebar",{attrs:{filters:t.getAvailableFilters},on:{changeFilter:t.changeFilter}})],1):t._e(),t._v(" "),t.getAvailableFilters?r("div",{directives:[{name:"show",rawName:"v-show",value:t.mobileFilters,expression:"mobileFilters"}],staticClass:"col-md-4 start-xs mobile-filters filters"},[r("div",{staticClass:"close-container absolute w-100"},[r("i",{staticClass:"material-icons p15 close cl-accent",on:{click:t.closeFilters}},[t._v("close")])]),t._v(" "),r("sidebar",{staticClass:"mobile-filters-body",attrs:{filters:t.getAvailableFilters},on:{changeFilter:t.changeFilter}})],1):t._e(),t._v(" "),r("div",{staticClass:"col-md-10 border-box products-list"},[r("header",[r("div",{staticClass:"container"},[r("breadcrumbs"),t._v(" "),r("div",{staticClass:"category-content-block"},[r("h1",{staticClass:"w-100 category-title mb30 mt20"},[t._v("\n                  "+t._s(t.getCurrentCategory.name)+"\n                ")]),t._v(" "),t.getCurrentCategory.landing_page?r("cms-block",{attrs:{id:t.getCurrentCategory.landing_page}}):t._e(),t._v(" "),t.getCurrentCategory.name?r("div",{staticClass:"category-details",class:{less:!t.detailsOpen,more:t.detailsOpen}},[r("div",{domProps:{innerHTML:t._s(t.getCurrentCategory.description)}}),t._v(" "),r("div",{staticClass:"details-overlay",on:{click:t.toggleDetails}},[r("i",{staticClass:"material-icons p15 up"},[t._v("chevron_right")]),t._v(" "),r("i",{staticClass:"material-icons p15 down"},[t._v("chevron_right")])])]):t._e()],1)],1),t._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"row m0 sorting-row"},[r("button",{staticClass:"col-xs-5 mr15 p15 sorting mobile-filters-button bg-cl-th-accent brdr-none cl-white h5",on:{click:t.openFilters}},[t._v("\n                  "+t._s(t.$t("Filters"))+"\n                ")]),t._v(" "),r("div",{staticClass:"mobile-sorting sorting"},[r("sort-by",{attrs:{value:t.getCurrentSearchQuery.sort},on:{change:t.changeFilter}})],1)])])]),t._v(" "),t.getCurrentCategory.name?r("div",{staticClass:"toolbar-container px-2"},[r("div",{staticClass:"sorting col-sm-2 align-right filter-sort-by"},[r("sort-by",{attrs:{"has-label":!0,value:t.getCurrentSearchQuery.sort},on:{change:t.changeFilter}})],1),t._v(" "),r("p",{staticClass:"item-count"},[t._v("\n              "+t._s(t.$t("{count} items",{count:t.getCategoryProductsTotal}))+"\n            ")])]):t._e(),t._v(" "),t.isCategoryEmpty?r("div",{staticClass:"hidden-xs pb50"},[r("h4",{attrs:{"data-testid":"noProductsInfo"}},[t._v("\n              "+t._s(t.$t("No products found!"))+"\n            ")]),t._v(" "),r("p",[t._v(t._s(t.$t("Please change Your search criteria and try again. If still not finding anything relevant, please visit the Home page and try out some of our bestsellers!")))])]):t._e(),t._v(" "),t.isLazyHydrateEnabled?r("lazy-hydrate",{attrs:{"trigger-hydration":!t.loading}},[r("product-listing",{attrs:{columns:t.defaultColumn,products:t.getCategoryProducts}})],1):r("product-listing",{attrs:{columns:t.defaultColumn,products:t.getCategoryProducts}})],1)])])]):t._e(),t._v(" "),t.isCategoryParentPage?r("div",{staticClass:"bg-white text-color-black category-page bikes"},[r("category-parent-page")],1):t._e(),t._v(" "),t.isTopLevelBikeCategoryPage?r("div",{staticClass:"bg-white text-color-black category-page"},[r("top-level-bike-category-page")],1):t._e(),t._v(" "),t.isPacCategory?r("div",{staticClass:"bg-white text-color-black category-page"},[r("p-a-c-landing-page")],1):t._e(),t._v(" "),t.isCategoryLandingPage?r("div",{staticClass:"bg-white text-color-black category-page"},[r("category-landing-page")],1):t._e()])}),[],!1,null,"75275cb8",null));e.default=ft.exports},1575:function(t,e,r){"use strict";r.r(e);r(194);var a=r(1010),i=r(1108),s=r(1125),n=r(1346),o=r(1163),c=r(1014),l={components:{ColorSelector:i.a,SizeSelector:s.a,PriceSelector:n.a,GenericSelector:o.a},props:{filters:{type:Object,required:!0}},computed:{hasActiveFilters(){return this.$store.getters["category-next/hasActiveFilters"]},getCurrentFilters(){return this.$store.getters["category-next/getCurrentFilters"]},availableFilters(){return Object(c.a)(this.filters,(t,e)=>t.length&&!this.$store.getters["category-next/getSystemFilterNames"].includes(e))}},methods:{resetAllFilters(){this.$store.dispatch("category-next/resetSearchFilters")},sortById:t=>[...t].sort((t,e)=>t.id-e.id)}},d=(r(1421),r(19)),u=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{},[r("h4",{},[r("span",[t._v(" "+t._s(t.$t("Filter"))+" ")]),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.hasActiveFilters,expression:"hasActiveFilters"}],staticClass:"weight-400 sidebar__header__clear pointer sans-serif flex lh25",on:{click:t.resetAllFilters}},[r("i",{staticClass:"material-icons cl-accent mr5"},[t._v("\n        cancel\n      ")]),t._v("\n      "+t._s(t.$t("Clear filters"))+"\n    ")])]),t._v(" "),r("div",{staticClass:"row"},t._l(t.availableFilters,(function(e,a){return r("div",{key:a,staticClass:"col-md-3"},[r("h5",[t._v("\n        "+t._s(t.$t(a+"_filter"))+"\n      ")]),t._v(" "),"color"===a?r("div",t._l(e,(function(e,a){return r("color-selector",{key:a,attrs:{context:"category",code:"color",variant:e,"selected-filters":t.getCurrentFilters},on:{change:function(e){return t.$emit("changeFilter",e)}}})})),1):"size"===a?r("div",t._l(t.sortById(e),(function(e,a){return r("size-selector",{key:a,staticClass:"size-select mr10 mb10",attrs:{context:"category",code:"size",variant:e,"selected-filters":t.getCurrentFilters},on:{change:function(e){return t.$emit("changeFilter",e)}}})})),1):"price"===a?r("div",t._l(e,(function(e,a){return r("price-selector",{key:a,staticClass:"price-select mb10 block",attrs:{context:"category",code:"price",id:e.id,from:e.from,to:e.to,content:e.label,variant:e,"selected-filters":t.getCurrentFilters},on:{change:function(e){return t.$emit("changeFilter",e)}}})})),1):r("div",{staticClass:"sidebar__inline-selecors"},t._l(e,(function(e,i){return r("generic-selector",{key:i,staticClass:"mr10 mb10 block",attrs:{context:"category",code:a,variant:e,"selected-filters":t.getCurrentFilters},on:{change:function(e){return t.$emit("changeFilter",e)}}})})),1)])})),0)])}),[],!1,null,"d3cedb32",null).exports,g=r(4),p=r(219),h=r(1),b=r(358),v=r(373),m=r(376),y=r(220),_=r(221),C=r(1068),f=r(377),k=r(6),x=r(34),P={name:"ProductListView",mixins:[p.a,C.a,y.a,_.a],components:{ProductImage:b.a,AddToWishlist:v.a,AddToCompare:m.a,ProductColorSwitcher:f.a},props:{labelsActive:{type:Boolean,default:!0},onlyImage:{type:Boolean,default:!1}},data:()=>({thumbnailImage:{src:null,loading:null}}),computed:{...Object(x.c)({localisePrice:"ayko_localisation/localisePrice"}),thumbnailObj(){return{src:this.thumbnailImage.src?this.thumbnailImage.src:this.thumbnail,loading:this.thumbnailImage.loading?this.thumbnailImage.loading:this.thumbnail}},favoriteIcon(){return this.isOnWishlist?"favorite":"favorite_border"},storeView:()=>Object(k.b)()},methods:{onProductPriceUpdate(t){t.sku===this.product.sku&&Object.assign(this.product,t)},findVariationImage(t){return"configurable"===this.product.type_id&&this.product.configurable_children&&this.product.configurable_children.length>0?this.product.configurable_children.find(e=>parseInt(e.color)===t):null},changeImage(t){this.thumbnailImage.src="http://localhost:8080/img/310/300/resize/"+this.findVariationImage(t.value_index).image},visibilityChanged(t,e){if(t&&h.products.configurableChildrenStockPrefetchDynamic&&h.products.filterUnavailableVariants&&"configurable"===this.product.type_id&&this.product.configurable_children&&this.product.configurable_children.length>0){const t=[this.product.sku];for(const e of this.product.configurable_children){const r=g.a.state.stock.cache[e.id];null==r&&t.push(e.sku)}t.length>0&&g.a.dispatch("stock/list",{skus:t})}}},beforeMount(){this.$bus.$on("product-after-priceupdate",this.onProductPriceUpdate)},beforeDestroy(){this.$bus.$off("product-after-priceupdate",this.onProductPriceUpdate)}},F=(r(1422),Object(d.a)(P,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"product w-100 pb20"},[r("div",{staticClass:"row",staticStyle:{color:"black"}},[r("div",{staticClass:"col-md-4"},[t.product.configurable_options?r("product-color-switcher",{attrs:{children:t.product.configurable_options},on:{change:function(e){return t.changeImage(e)}}}):t._e(),t._v(" "),r("product-image",{staticClass:"product-cover__thumb",attrs:{image:t.thumbnailObj,alt:t._f("htmlDecode")(t.product.name),"calc-ratio":!1,"data-testid":"productImage"}})],1),t._v(" "),r("div",{staticClass:"col-md-8"},[r("div",{staticClass:"product__icons"},[r("AddToWishlist",{attrs:{product:t.product}},[r("div",{staticClass:"product__icon",class:{"product__icon--active":t.isOnWishlist},attrs:{title:t.isOnWishlist?t.$t("Remove"):t.$t("Add to favorite")}},[r("i",{staticClass:"material-icons"},[t._v(t._s(t.favoriteIcon))])])]),t._v(" "),r("AddToCompare",{attrs:{product:t.product}},[r("div",{staticClass:"product__icon",class:{"product__icon--active":t.isOnCompare},attrs:{title:t.isOnCompare?t.$t("Remove from compare"):t.$t("Add to compare")}},[r("i",{staticClass:"material-icons"},[t._v("compare")])])])],1),t._v(" "),t.onlyImage?t._e():r("h3",{staticClass:"mb0 mt10"},[t._v("\n        "+t._s(t._f("htmlDecode")(t.product.name))+"\n      ")]),t._v(" "),r("span",{domProps:{innerHTML:t._s(t.product.description)}}),t._v(" "),r("h4",[t.product.special_price&&parseFloat(t.product.original_price_incl_tax)>0&&!t.onlyImage?r("span",{staticClass:"price-original mr5 lh30"},[t._v(t._s(t.localisePrice(t.product.original_price_incl_tax,t.storeView)))]):t._e(),t._v(" "),t.product.special_price&&parseFloat(t.product.special_price)>0&&!t.onlyImage?r("span",{staticClass:"price-special lh30 cl-accent weight-700"},[t._v(t._s(t.localisePrice(t.product.price_incl_tax,t.storeView)))]):t._e(),t._v(" "),!t.product.special_price&&parseFloat(t.product.price_incl_tax)>0&&!t.onlyImage?r("span",{staticClass:"lh30"},[t._v(t._s(t.localisePrice(t.product.price_incl_tax,t.storeView)))]):t._e()]),t._v(" "),r("router-link",{staticClass:"block no-underline product-link",attrs:{to:"/"+t.product.slug,"data-testid":"product-link"}},[r("a",{staticClass:"button button-outline py15 px30 button-explore"},[t._v(t._s(t.$t("Explore this bike"))+"\n          "),r("i",{staticClass:"material-icons cl-primary"},[t._v("\n            arrow_forward\n          ")])])])],1)])])}),[],!1,null,"741144c5",null).exports);let w=0;var $={name:"ProductListFull",components:{ProductListView:F},props:{products:{type:null,required:!0},columns:{type:[Number,String],required:!0}},methods:{wide(t,e,r){let a=("1"===t||"1"===e)&&(r>0&&(r-1-w)%2==0)||r===this.products.length-1&&(r-w)%2!=0;return a&&(w=r),a?"col-xs-12":"col-xs-6"}}},O=Object(d.a)($,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"product-listing gridView",attrs:{"data-view-as":""}},this._l(this.products,(function(t){return e("div",{key:t.id},[e("product-list-view",{attrs:{product:t}})],1)})),0)}),[],!1,null,null,null).exports,S=r(218),j=r(1123),B=r(3),I=r(144),A=r(1038),T=r(362),L=r(1073),E=r(195),D=r(1039),M=r(1058),z=r(1059);const H=async function(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const a=Object(I.c)(e.params),i=t.getters["category-next/getCategoryFrom"](e.path),s=i&&!r?i:await t.dispatch("category-next/loadCategory",{filters:a});await Promise.all([t.dispatch("category-next/loadCategoryProducts",{route:e,category:s,pageSize:50}),t.dispatch("category-next/loadCategoryBreadcrumbs",{category:s,currentRouteName:s.name,omitCurrent:!0})]),L.a.categoryPageVisited(s)}catch(t){console.error("Problem with setting Category initial data!",t)}};var N={components:{LazyHydrate:a.a,ButtonFull:A.a,ProductListFull:O,Breadcrumbs:S.a,FilterBar:u,SortBy:j.a,CmsBlock:D.a},mixins:[T.a,D.a],data:()=>({mobileFilters:!1,defaultColumn:3,loadingProducts:!1,loading:!0}),computed:{...Object(x.c)({getCurrentSearchQuery:"category-next/getCurrentSearchQuery",getCategoryProducts:"category-next/getCategoryProducts",getCurrentCategory:"category-next/getCurrentCategory",getCategoryProductsTotal:"category-next/getCategoryProductsTotal",getAvailableFilters:"category-next/getAvailableFilters"}),isLazyHydrateEnabled:()=>h.ssr.lazyHydrateFor.includes("category-next.products"),isCategoryEmpty(){return 0===this.getCategoryProductsTotal}},async asyncData(t){let{store:e,route:r}=t;await H(e,r)},async beforeRouteEnter(t,e,r){B.g?r():e.name?r(async e=>{e.loading=!0,e.$store.dispatch("category-next/cacheProducts",{route:t}),e.loading=!1}):r(async e=>{e.loading=!0,await H(e.$store,t,!0),await e.$store.dispatch("category-next/cacheProducts",{route:t}),e.loading=!1})},methods:{openFilters(){this.mobileFilters=!0},closeFilters(){this.mobileFilters=!1},async changeFilter(t){this.$store.dispatch("category-next/switchSearchFilters",[t])},columnChange(t){this.defaultColumn=t},async onBottomScroll(){if(!this.loadingProducts){this.loadingProducts=!0;try{await this.$store.dispatch("category-next/loadMoreCategoryProducts")}catch(t){console.error("Problem with fetching more products",t)}finally{this.loadingProducts=!1}}}},metaInfo(){const{meta_title:t,meta_description:e,name:r,slug:a}=this.getCurrentCategory,i=e?[{vmid:"description",name:"description",content:Object(E.htmlDecode)(e)}]:[];let s={link:[],title:Object(E.htmlDecode)(t||r),meta:i};return s=M.a.addCanonical(this.getCurrentCategory,s),s=z.a.addHreflangs(this.getCurrentCategory,s),s}},V=(r(1423),r(1424),Object(d.a)(N,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"background-color":"white",color:"black"},attrs:{id:"category"}},[r("header",{staticClass:" py35 pl20"},[r("div",{staticClass:"container"},[r("breadcrumbs"),t._v(" "),r("div",{staticClass:"row middle-sm"},[r("h1",{staticClass:"col-sm-8 category-title mb10"},[t._v("\n          "+t._s(t.getCurrentCategory.name)+"\n        ")]),t._v(" "),r("cms-block",{attrs:{identifier:"performance-fabrics-block"}}),t._v(" "),r("div",{staticClass:"sorting col-sm-4 align-right mt50"},[r("span",[t._v(t._s(t.$t("Sort By"))+":")]),t._v(" "),r("sort-by",{attrs:{"has-label":!0,value:t.getCurrentSearchQuery.sort},on:{change:t.changeFilter}})],1),t._v(" "),r("div",{staticClass:"sorting col-sm-8 align-center mt50"},[r("span",[t._v(t._s(t.$t("Filter By"))+":")]),t._v(" "),r("sort-by",{attrs:{"has-label":!0,value:t.getCurrentSearchQuery.sort},on:{change:t.changeFilter}}),t._v(" "),r("sort-by",{attrs:{"has-label":!0,value:t.getCurrentSearchQuery.sort},on:{change:t.changeFilter}}),t._v(" "),r("sort-by",{attrs:{"has-label":!0,value:t.getCurrentSearchQuery.sort},on:{change:t.changeFilter}})],1)],1)],1),t._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"row m0"},[r("button",{staticClass:"col-xs-5 mt25 mr15 p15 mobile-filters-button bg-cl-th-accent brdr-none h5 sans-serif fs-medium-small",on:{click:t.openFilters}},[t._v("\n          "+t._s(t.$t("Filters"))+"\n        ")]),t._v(" "),r("div",{staticClass:"mobile-sorting col-xs-6 mt25"},[r("sort-by",{attrs:{value:t.getCurrentSearchQuery.sort},on:{change:t.changeFilter}})],1)])])]),t._v(" "),r("div",{staticClass:"container pb60"},[r("div",{staticClass:"row m0 pt15"},[r("div",{staticClass:"col-md-12 start-xs category-filters"},[r("FilterBar",{attrs:{filters:t.getAvailableFilters},on:{changeFilter:t.changeFilter}})],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.mobileFilters,expression:"mobileFilters"}],staticClass:"col-md-12 start-xs mobile-filters"},[r("div",{staticClass:"close-container absolute w-100"},[r("i",{staticClass:"material-icons p15 close cl-accent",on:{click:t.closeFilters}},[t._v("close")])]),t._v(" "),r("filter-bar",{staticClass:"mobile-filters-body",attrs:{filters:t.getAvailableFilters},on:{changeFilter:t.changeFilter}}),t._v(" "),t._m(0),t._v(" "),r("button-full",{staticClass:"mb20 btn__filter",nativeOn:{click:function(e){return t.closeFilters(e)}}},[t._v("\n          "+t._s(t.$t("Filter"))+"\n        ")])],1),t._v(" "),r("div",{staticClass:"col-md-12 px10 border-box products-list"},[r("p",{staticClass:"col-xs-12 end-md m0 pb20 cl-secondary"},[t._v("\n          "+t._s(t.$t("{count} items",{count:t.getCategoryProductsTotal}))+"\n        ")]),t._v(" "),t.isCategoryEmpty?r("div",{staticClass:"hidden-xs"},[r("h4",{attrs:{"data-testid":"noProductsInfo"}},[t._v("\n            "+t._s(t.$t("No products found!"))+"\n          ")]),t._v(" "),r("p",[t._v(t._s(t.$t("Please change Your search criteria and try again. If still not finding anything relevant, please visit the Home page and try out some of our bestsellers!")))])]):t._e(),t._v(" "),t.isLazyHydrateEnabled?r("lazy-hydrate",{attrs:{"trigger-hydration":!t.loading}},[r("product-list-full",{attrs:{columns:t.defaultColumn,products:t.getCategoryProducts}})],1):r("product-list-full",{attrs:{columns:t.defaultColumn,products:t.getCategoryProducts}})],1)]),t._v(" "),r("cms-block",{attrs:{identifier:"performance-fabrics-block"}})],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"relative pb20 pt15"},[e("div",{staticClass:"brdr-top-1 brdr-cl-primary absolute divider w-100"})])}],!1,null,"ac0b426a",null));e.default=V.exports}}]);