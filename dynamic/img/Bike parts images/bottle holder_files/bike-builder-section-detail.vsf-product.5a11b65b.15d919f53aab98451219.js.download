(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1072:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=i(22),s=i(3),n=i(1),o={getShareLink:function(t){return r.a.execute({url:Object(s.j)(n.bikebuilder.getShareLink+"/"+t),payload:{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"},silent:!0}).then((function(t){return t.result}))},setShareLink:function(t){return r.a.execute({url:Object(s.j)(n.bikebuilder.setShareLink),payload:{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({buildData:t})},silent:!0}).then((function(t){return t.result}))},getStoreBuilds:function(t){return r.a.execute({url:Object(s.j)(n.bikebuilder.getStoreBuilds),payload:{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({storeData:t})},silent:!0}).then((function(t){return t.result}))},getCustomColorImage:function(t){return r.a.execute({url:Object(s.j)(n.bikebuilder.getCustomColorImage),payload:{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({colorData:t})},silent:!0}).then((function(t){return t.result}))}}},1075:function(t,e,i){"use strict";var r=i(19),s=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"fill-current",attrs:{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 23"}},[e("path",{attrs:{d:"M10.19 21.932l-9.75-9.75a1.5 1.5 0 010-2.121l2.12-2.122a1.5 1.5 0 012.122 0l6.568 6.568L25.318.44a1.5 1.5 0 012.121 0l2.122 2.122a1.5 1.5 0 010 2.121l-17.25 17.25a1.5 1.5 0 01-2.122 0z"}})])}),[],!1,null,null,null);e.a=s.exports},1098:function(t,e,i){"use strict";var r=i(34),s=i(3);e.a={computed:{...Object(r.c)("epos",["isKiosk"])},methods:{setIdleTimer(){if(s.g)return;let t;const e=async()=>{s.g||(await this.$store.dispatch("build/clearBuilder"),window.location.href="/bikes")};function i(){clearTimeout(t),t=setTimeout(e,18e4)}window.onmousemove=i,window.onmousedown=i,window.onscroll=i,window.onkeypress=i}}}},1115:function(t,e,i){"use strict";var r=i(34),s=i(1072);e.a={computed:{...Object(r.c)("builderPreSpec",["preSpec"]),preSpecId(){return this.preSpec?this.preSpec.bikeId:null}},methods:{async setShareLink(){const t=this.getCurrentProduct.parent_bike_id||this.getCurrentProduct.id,e=this.selectedOptions.map(t=>({id:t.id,qty:t.userQty})),i={preSpecId:this.preSpecId,selectedOptions:e},r={productId:parseInt(t),optionsJson:i,retailStore:this.getStore};try{await s.a.setShareLink(r).then(t=>{this.$store.dispatch("myBuild/setHash",t[0].hash)})}catch(t){const e=this.$t("Sorry, there was an error creating your share code, please try again.");this.$store.dispatch("myBuild/setError",e)}},openShareModal(){if(!this.bike||!this.selectedOptions.length){const t=this.$t("You haven't selected a bike.");this.$store.dispatch("myBuild/setInfo",t),this.$store.dispatch("builderUi/toggleShareModal")}this.$store.dispatch("myBuild/toggleLoading"),this.$store.dispatch("builderUi/toggleShareModal"),this.setShareLink().then(()=>{this.$store.dispatch("myBuild/toggleLoading")})}}}},1127:function(t,e,i){"use strict";var r=i(19),s=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"fill-current",attrs:{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 28"}},[e("path",{attrs:{d:"M18.857 17.143a5.12 5.12 0 00-3.203 1.12l-5.49-3.432a5.172 5.172 0 000-2.233l5.49-3.432a5.143 5.143 0 10-1.818-2.907l-5.49 3.432a5.143 5.143 0 100 8.047l5.49 3.431a5.143 5.143 0 105.02-4.026z"}})])}),[],!1,null,null,null);e.a=s.exports},1217:function(t,e,i){},1218:function(t,e,i){},1330:function(t,e,i){"use strict";var r=i(34),s=i(1075),n={name:"FrameSize",props:{option:{type:Object,default:null}},components:{Check:s.a},data:()=>({hover:!1}),computed:{...Object(r.c)("builderBike",["bike"]),...Object(r.c)("attribute",["getAttributeListByCode"]),...Object(r.c)("buildEstimateDispatch",["isPotentialIPB"]),...Object(r.c)("build",["currentOption","selectedChildOptions","sizeMappingData"]),ipb(){return this.isPotentialIPB(this.option)},frameSizeAttributes(){return this.getAttributeListByCode&&this.getAttributeListByCode.frame_size_bbv4?this.getAttributeListByCode.frame_size_bbv4.options:[]},sizeAttributeLabel(){if(!this.frame)return null;const t=this.frameSizeAttributes.find(t=>t.value===this.frame.attributeValueId);return t?t.label:null},isSelected(){return!(!this.currentOption||this.currentOption.id!==this.option.id)||!!this.selectedChildOptions.find(t=>t.id===this.option.id)},canBeSelected(){return this.option.product.isInStock||this.option.product.isBackOrderable},selectedIcon(){return this.canBeSelected&&this.hover?"opacity-100":"opacity-0"},selectedBg(){return this.isSelected?"bg-blue-400 hover:bg-blue-400 text-white":null},hoverStyles(){return this.canBeSelected?"hover:bg-blue-100 hover:text-white":null},stockOut(){return this.option.product.isInStock||this.option.product.isBackOrderable||this.ipb?null:"cursor-not-allowed"},frame(){return this.option.product.configurableAttributes?this.option.product.configurableAttributes.find(t=>t):null},inStock(){return this.option.product.isInStock},backOrderable(){return this.option.product.isBackOrderable}},methods:{async selectSize(){if(!this.inStock&&!this.backOrderable&&!this.ipb)return!1;const t={id:this.option.id,option:this.option,userQty:this.option.quantity};this.$store.dispatch("build/updateCurrentOption",t),await this.$store.dispatch("build/selectFrame",t)},cmToFeetInch(t){const e=.3937008*t/12;return`${Math.floor(e)}' ${(e.toFixed(2).substring(2)/100*12).toFixed(0)}"`},getSizeMapping(t,e,i){const r=this.sizeMappingData.find(e=>e.frame_size===t);return"cm"===e?r?Math.round(r[i]/10):null:"inchesFeet"===e?r?this.cmToFeetInch(r[i]/10):null:r[i]||null}}},o=(i(1397),i(19)),a={name:"FrameSelect",components:{FrameSize:Object(o.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"px-4 py-3 md:px-8 lg:px-3 lg:py-3 text-center border relative transition duration-500 ease-in-out",class:[t.selectedBg,t.stockOut,t.hoverStyles],attrs:{type:"button","data-testid":"frameSizeSelector"},on:{click:t.selectSize,mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[t.frame?i("h3",{staticClass:"font-bold mt-0 mb-1 font-featured text-lg lg:text-sm xl:text-base",class:t.isSelected?"text-white":"text-blue-500"},[t._v("\n    "+t._s(t.sizeAttributeLabel)+"\n  ")]):t._e(),t._v(" "),i("ul",{staticClass:"text-sm md:text-base lg:text-sm",class:t.isSelected?"text-white":"text-gray-500"},[i("li",{staticClass:"inline-block"},[i("span",[t._v(t._s(t.getSizeMapping(t.frame.attributeAdminValue,"inchesFeet","rider_height_from")))]),t._v(" "),i("span",[t._v("-")]),t._v(" "),i("span",[t._v(t._s(t.getSizeMapping(t.frame.attributeAdminValue,"inchesFeet","rider_height_to")))])])]),t._v(" "),i("ul",{staticClass:"text-sm md:text-base lg:text-sm",class:t.isSelected?"text-white":"text-gray-500"},[i("li",{staticClass:"inline-block"},[i("span",[t._v(t._s(t.getSizeMapping(t.frame.attributeAdminValue,"cm","rider_height_from")))]),t._v(" "),i("span",[t._v("-")]),t._v(" "),i("span",[t._v(t._s(t.getSizeMapping(t.frame.attributeAdminValue,"cm","rider_height_to"))+"cm")])])]),t._v(" "),t.ipb||t.option.product.isInStock||t.option.product.isBackOrderable&&!t.option.product.isBackOrderNotifyCustomer?i("div",{staticClass:"uppercase border p-1 mt-3 ribble-xxs rounded",class:t.isSelected?"text-gray-700 bg-white border-white":"text-white bg-green-500 border-green-500"},[t._v("\n    "+t._s(t.$t("Select Size"))+"\n  ")]):t._e(),t._v(" "),!t.ipb&&!t.option.product.isInStock&&t.option.product.isBackOrderable&&t.option.product.isBackOrderNotifyCustomer?i("div",{staticClass:"uppercase border p-1 mt-3 ribble-xxs rounded text-gray-700 border-black",class:t.isSelected?"bg-white border-white":null},[t._v("\n    "+t._s(t.$t("Pre-Order"))+"\n  ")]):t._e(),t._v(" "),t.option.product.isInStock||t.option.product.isBackOrderable||t.ipb?t._e():i("div",{staticClass:"uppercase border border-red-500 p-1 mt-3 bg-red-500 text-white ribble-xxs rounded"},[t._v("\n    "+t._s(t.$t("Out of Stock"))+"\n  ")]),t._v(" "),i("Check",{staticClass:"h-6 w-6 top-0 bottom-0 left-0 right-0 m-auto absolute text-white transition duration-500 ease-in-out",class:t.selectedIcon})],1)}),[],!1,null,"53b69ef8",null).exports},computed:{...Object(r.c)("builderOption",["options","getFrameParent"]),...Object(r.c)("builderSection",["frameSectionId"]),...Object(r.c)("build",["myBuildOptions"]),sectionOptions(){return this.options?this.options.filter(t=>t.sectionId===this.frameSectionId):[]},parentFrame(){return this.getFrameParent},frameChildren(){return(this.parentFrame&&this.parentFrame.relatedProducts?this.parentFrame.relatedProducts:[]).map(t=>this.$store.getters["builderOption/getOptionById"](t)).sort((t,e)=>t.position>e.position?1:-1)}}},l=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",{class:t.frameChildren.length?"grid gap-5":null},[t.frameChildren.length?t._l(t.frameChildren,(function(t){return i("FrameSize",{key:t.id,attrs:{option:t}})})):t._e(),t._v(" "),t.frameChildren.length?t._e():i("p",{staticClass:"text-red-500"},[t._v("\n    "+t._s(t.$t("No frame sizes to select"))+"\n  ")])],2)}),[],!1,null,null,null);e.a=l.exports},1345:function(t,e,i){"use strict";var r={name:"TransitionExpand",methods:{enter(t){const e=getComputedStyle(t).width;t.style.width=e,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto";const i=getComputedStyle(t).height;t.style.width=null,t.style.position=null,t.style.visibility=null,t.style.height=0,getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height=i})},afterEnter(t){t.style.height="auto"},leave(t){const e=getComputedStyle(t).height;t.style.height=e,getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height=0})}}},s=(i(1398),i(19)),n=Object(s.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("transition",{attrs:{name:"expand"},on:{enter:this.enter,"after-enter":this.afterEnter,leave:this.leave}},[this._t("default")],2)}),[],!1,null,"3d475968",null);e.a=n.exports},1397:function(t,e,i){"use strict";i(1217)},1398:function(t,e,i){"use strict";i(1218)}}]);